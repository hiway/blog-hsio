<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Harshad's Blog - Troubleshooting</title><link href="https://blog.harshad.sharma.io/" rel="alternate"></link><link href="https://blog.harshad.sharma.io/feeds/troubleshooting.atom.xml" rel="self"></link><id>https://blog.harshad.sharma.io/</id><updated>2023-07-03T00:00:00+05:30</updated><entry><title>Linux on Thinkpad x280 intermittently freezes [solved]</title><link href="https://blog.harshad.sharma.io/posts/2023/Jul/03/linux-on-thinkpad-x280-intermittently-freezes-solved/" rel="alternate"></link><published>2023-07-03T00:00:00+05:30</published><updated>2023-07-03T00:00:00+05:30</updated><author><name>Harshad Sharma</name></author><id>tag:blog.harshad.sharma.io,2023-07-03:/posts/2023/Jul/03/linux-on-thinkpad-x280-intermittently-freezes-solved/</id><summary type="html">&lt;p&gt;It appears that the random intermittent freezes every few minutes 
where the desktop/ apps/ pointer is unresponsive for a second or more
is not limited to Ubuntu/ Fedora or Thinkpad.&lt;/p&gt;
&lt;p&gt;The reason is likely Intel i915 GPU.&lt;/p&gt;
&lt;p&gt;I &lt;a href="https://www.reddit.com/r/thinkpad/comments/rhbf8m/solution_thinkpad_short_freezes_on_gnulinux/"&gt;found a discussion on Reddit&lt;/a&gt; that documents a solution in parts
spread â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;It appears that the random intermittent freezes every few minutes 
where the desktop/ apps/ pointer is unresponsive for a second or more
is not limited to Ubuntu/ Fedora or Thinkpad.&lt;/p&gt;
&lt;p&gt;The reason is likely Intel i915 GPU.&lt;/p&gt;
&lt;p&gt;I &lt;a href="https://www.reddit.com/r/thinkpad/comments/rhbf8m/solution_thinkpad_short_freezes_on_gnulinux/"&gt;found a discussion on Reddit&lt;/a&gt; that documents a solution in parts
spread out over several comments for the complete answer:&lt;/p&gt;
&lt;p&gt;Documenting the steps/files below for next time I'm in the same situation.&lt;/p&gt;
&lt;p&gt;Edit &lt;code&gt;/etc/default/grub&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gu"&gt;5a6&lt;/span&gt;
&lt;span class="gi"&gt;&amp;gt; GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;i915.enable_psr=0 psmouse.synaptics_intertouch=1&amp;quot;&lt;/span&gt;
&lt;span class="gu"&gt;8c9&lt;/span&gt;
&lt;span class="gd"&gt;&amp;lt; GRUB_ENABLE_BLSCFG=true&lt;/span&gt;
&lt;span class="gs"&gt;---&lt;/span&gt;
&lt;span class="gi"&gt;&amp;gt; GRUB_ENABLE_BLSCFG=false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;i915.enable_psr=0&lt;/code&gt; to resolve the hangs&lt;/li&gt;
&lt;li&gt;&lt;code&gt;psmouse.synaptics_intertouch=1&lt;/code&gt; to improve touchpad functionality&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GRUB_ENABLE_BLSCFG=false&lt;/code&gt; to ensure Fedora boots up&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Run the following commands to update grub config and reboot&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo mv /boot/grub2/grub.cfg /root/boot-grub2-grub.cfg.bak
sudo grub2-mkconfig -o /boot/grub2/grub.cfg
sudo reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Have not encountered any freezes for over 24 hours now.&lt;/p&gt;</content><category term="Troubleshooting"></category><category term="Linux"></category><category term="Thinkpad"></category></entry></feed>